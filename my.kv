WindowManager:
    MainWindow:
    SecondWindow:
        id:scnd
    ThirdWindow:
    FourthWindow:

<MainWindow>:
    name: "main"
    amount : amt
    category : ctgry
    message : msg

    GridLayout:
        cols:1
        Label:
            canvas.before:
                Color:
                    rgb: 0.04, 0.08, 0.54
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: "Input your expenditure"
        GridLayout:
            cols:3
            Spinner:
                id: expenseday
                values :'Day','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31'
                text: "Day"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False
            Spinner:
                id: expensemonth
                values :'Month','01','02','03','04','05','06','07','08','09','10','11','12'
                text: "Month"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False
            Spinner:
                id: expenseyear
                values :'Year','2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025','2026','2027','2028','2029','2030','2031','2032','2033','2034','2035'
                text: "Year"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False
        GridLayout:
            cols: 4
            Label:
                size: 200, 0
                size_hint: 0.25, 1
            Label:
                text: "amount: "

            TextInput:
                id: amt
                multiline: False

            Label:
                size: 200, 0
                size_hint: 0.35, 1
            Label:
                size: 200, 0
                size_hint: 0.25, 1
            Label:
                text: "Message: "
            
            TextInput:
                id:msg
                multiline:False

            Label:
                size: 200, 0
                size_hint: 0.25, 1
            Label:
                size: 200, 0
                size_hint: 0.15, 1
            Label:
                text: "Category: "
            TextInput:
                id:ctgry
                multiline:False
            Label:
                size: 200, 0
                size_hint: 0.25, 1

        Label:
            text: " "
        GridLayout:
            cols:4
            Label:
                text: ""
            Label:
                text: ""
            Label:
                text: ""


            Button:
                background_normal: 'submit.png'
                background_down: 'submitp.png'
                size: 150, 150
                size_hint: None, None
                pos_hint: {"x":0, "top":0}
                on_press:root.add_expense()
        Label:
            size_hint: 1, 1
        GridLayout:
            cols:3
            Button:
                background_normal: 'quit.png'
                background_down: 'quitp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:root.quit()
            Label:
                size: 200, 0
                size_hint: 0.5, None
            Button:
                background_normal: 'seeitems.png'
                background_down: 'seeitemsp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current = "second"
                    root.manager.transition.direction = "left"

<SecondWindow>:
    name: "second"

    GridLayout:
        cols:1

        Label:
            canvas.before:
                Color:
                    rgb: 0.04, 0.08, 0.54
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: 1, 1.8

        Label:
            size: 200, 0
            size_hint: 0.25, 1

        itemlist:
            id:catsearch
            size: 200, 300
            size_hint: 1, 3

        categorysearch:
            id: cat
            text:"All"
            color: 0, 0, 0, 1
            background_normal: 'ddlist.png'
            background_down: 'ddlist.png'
            size: 800, 50
            size_hint: 1, None

        GridLayout:
            cols:3
            Label:
                size: 200, 0
                size_hint: 0.25, None
            Button:
                id: submit_category
                background_normal: 'view.png'
                background_down: 'viewp.png'
                size: 228.975, 90.6
                size_hint: None, None
                on_release:root.search_cat()
            Label:
                size: 200, 0
                size_hint: 0.25, None

        Label:
            size_hint: 1, 1

        Label:
            text: "Delete Entry by ID"
            size_hint: 1, 0.5


        GridLayout:
            cols:4
            Label:
                size_hint: 1, 1
            TextInput:
                id:selectid
                size: 400, 30
                size_hint: 1, None
                multiline:False
            Button:
                id:delete
                text: "Delete"
                background_color: 0.35, 0.44, 1.40, 0.9
                size: 228.975, 30
                size_hint: 1, None
                on_release:root.delete_item()
            Label:
                size_hint: 1, 1

        Label:
            size: 1, 1
            size_hint: 1, 2

        GridLayout:
            cols:3
            Button:
                background_normal: 'back.png'
                background_down: 'backp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"

            Label:
                size: 200, 0
                size_hint: 0.25, None
        
            Button:
                background_normal: 'analysis.png'
                background_down: 'analysisp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current = "third"
                    root.manager.transition.direction = "left"
        Label:
            size_hint: 1, 1

<ThirdWindow>:
    name:"third"

    GridLayout:
        cols:1
        BoxLayout:
            size: 200, 300
            size_hint: 1, 5
            id: analysis_res
        Label:
            size: 50, 50
            size_hint: 1, 0.25
        GridLayout:
            cols:3

            Label:
                size: 200, 0
                size_hint: 0.25, None

            categories:
                id: cat
                text:"Choose Category"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.5, None

            Label:
                size: 200, 0
                size_hint: 0.25, None

        GridLayout:
            cols:3
            Label:
                size: 200, 0
                size_hint: 0.25, None
            Button:
                id: submit_analysis
                background_normal: 'stats.png'
                background_down: 'statsp.png'
                size: 228.975, 90.6
                size_hint: None, None
                on_release: root.view_stats()
            Label:
                size: 200, 0
                size_hint: 0.25, None

        GridLayout:
            cols:3
            Button:
                background_normal: 'back.png'
                background_down: 'backp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current = "second"
                    root.manager.transition.direction = "right"
            Label:
                size: 200, 0
                size_hint: 0.5, None
            Button:
                background_normal: 'insights.png'
                background_down: 'insightsp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current = "fourth"
                    root.manager.transition.direction="left"

<FourthWindow>:
    name:"fourth"

    GridLayout:
        cols:1
        Label:
            canvas.before:
                Color:
                    rgb: 0.04, 0.08, 0.54
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: 1, 0.75

        Label:
            markup: True
            bold: True
            text: "[size=24]Insights[/size]"
        GridLayout:
            cols:2
            Label:
                text: "On the day enterred you spent: "
            Label:
                id:daily
                text:""
            Label:
                text: "On the month enterred you spent: "
            Label:
                id:monthly
                text:""
            Label:
                text: "On the year enterred you spent: "
            Label:
                id:yearly
                text:""

        GridLayout:
            cols:3
            Spinner:
                id: day_input
                values :'Day','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31'
                text: "Day"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False
            Spinner:
                id: month_input
                values :'Month','01','02','03','04','05','06','07','08','09','10','11','12'
                text: "Month"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False
            Spinner:
                id: year_input
                values :'Year','2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025','2026','2027','2028','2029','2030','2031','2032','2033','2034','2035'
                text: "Year"
                color: 0, 0, 0, 1
                background_normal: 'ddlist.png'
                background_down: 'ddlist.png'
                size: 120, 50
                size_hint: 0.25, None
                multiline:False

        GridLayout:
            cols:3
            Label:
                size: 200, 90.6
                size_hint: 0.5, None
            Label:
                size: 200, 90.6
                size_hint: 0.35, None
            Label:
                size: 50, 0
                size_hint: 0.10, None
            
        GridLayout:
            cols:3
            Button:
                background_normal: 'back.png'
                background_down: 'backp.png'
                size: 187.5, 75.5
                size_hint: None, None
                on_release:
                    app.root.current="third"
                    root.manager.transition.direction="right"
            Label:
                size: 200, 0
                size_hint: 0.25, None

            Button:
                background_normal: 'check.png'
                background_down: 'checkp.png'
                size: 228.975, 90.6
                size_hint: None, None
                on_release: root.search_date()